{"ast":null,"code":"import _objectSpread from\"C:/Users/Komputer/Desktop/Komputer/Projects/TASK/client/web/daily_do/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/Komputer/Desktop/Komputer/Projects/TASK/client/web/daily_do/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/Komputer/Desktop/Komputer/Projects/TASK/client/web/daily_do/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import DaydoItemList from'./DaydoItemList';import DaydoForm from'./DaydoForm';import'./DaydoListTemplate.css';import DaydoSlider from'./DaydoSlider';import{homepageURL,serverURL}from'../../config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DayDoListTemplate=function DayDoListTemplate(_ref){var darkTheme=_ref.darkTheme;var today=new Date();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allDaydoItemList=_useState2[0],setAllDaydoItemList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),daydoItemList=_useState4[0],setDaydoItemList=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),formInput=_useState6[0],setFormInput=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),fetched=_useState8[0],setFetched=_useState8[1];var userIdLocation=document.cookie.split('; ').find(function(row){return row.startsWith('userId');});var userId=userIdLocation===undefined?window.location.replace(homepageURL):userIdLocation.split('=')[1];// 설정의 요일별 할 일 목록의 세팅되어 있는 요일\n// 기준은 JAVA 요일 시스템을 따름 (그 날의 요일)\nvar _useState9=useState(today.getDay()===0?7:today.getDay()),_useState10=_slicedToArray(_useState9,2),day=_useState10[0],setDay=_useState10[1];useEffect(function(){// 다크 모드 \nconsole.log();var inputs=document.querySelectorAll('input');if(darkTheme){inputs.forEach(function(input){return input.classList.add('dark');});}else{inputs.forEach(function(input){return input.classList.remove('dark');});}});// FETCH - POST\nuseEffect(function(){// 서버로부터 모든 요일의 Daydo 목록 가져오기\nif(!fetched){fetch(\"\".concat(serverURL,\"/api/daydos\"),{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(userId)}).then(function(response){return response.json();}).then(function(items){console.log(\"서버로부터 모든 요일별 Daydo 목록 가져옴: \",items);setFetched(true);setAllDaydoItemList(items);});}// 초기로 설정되어 있는 요일에 해당하는 요일별 할 일 목록 생성\n// !! Java에서 day = 1 ~ 7 : 월요일 ~ 일요일 | JavaScript에서 day = 0 ~ 6 : 일요일 ~ 토요일\nvar defaultDaydoItemList=allDaydoItemList.filter(function(daydoItem){return daydoItem.day===day;});setDaydoItemList(defaultDaydoItemList);},[fetched,allDaydoItemList,day]);// CREATE - POST \nfunction handleCreate(){// Form 안의 내용을 초기화\nsetFormInput('');// 서버로 보낼 객체 아이템 생성\nvar newDaydoItem={userId:userId,content:formInput,day:day};// POST 방식으로 서버 전송\nfetch(\"\".concat(serverURL,\"/api/daydo\"),{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(newDaydoItem)})// 서버에서 받은 응답을 객체화 후, DaydoItemList에 추가 (컴포넌트 re-render됨)\n.then(function(response){return response.json();}).then(function(newDaydoItem){console.log(\"새 Todo 아이템 생성됨: \",newDaydoItem);setDaydoItemList([].concat(_toConsumableArray(daydoItemList),[newDaydoItem]));// 서버에서 다시 목록 가져오기\nsetFetched(false);});}// REMOVE - DELETE\nfunction handleRemove(id){// 서버와 클라이언트 따로따로 처리됨\nvar updatedDaydoItemList=daydoItemList.filter(function(daydoItem){return daydoItem.id!==id;});var updatedAllDaydoItemList=allDaydoItemList.filter(function(daydoItem){return daydoItem.id!==id;});//서버\nfetch(\"\".concat(serverURL,\"/api/daydo/\").concat(id),{method:'DELETE',headers:{'content-type':'application/json'}}).then(function(response){return response.json();}).then(function(deletedId){console.log(\"ID:\",deletedId,\" 삭제됨\");});// 클라이언트\nsetDaydoItemList(updatedDaydoItemList);setAllDaydoItemList(updatedAllDaydoItemList);}// UPDATE (content) - PUT\nfunction handleDaydoInputChange(e,id){// 서버와 클라이언트 따로따로 처리됨\nvar index=daydoItemList.findIndex(function(daydoItem){return daydoItem.id===id;});var selectedItem=daydoItemList[index];selectedItem.content=e.target.value;// 서버\nfetch(\"\".concat(serverURL,\"/api/daydo/\").concat(id),{method:'PUT',headers:{'content-type':'application/json'},body:JSON.stringify(selectedItem)}).then(function(response){return response.json();}).then(function(updatedId){console.log(\"ID:\",updatedId,\" 업데이트됨\");});// 클라이언트\nvar updatedDaydoItemList=_toConsumableArray(daydoItemList);updatedDaydoItemList[index]=_objectSpread({},selectedItem);var allDayItemListIndex=allDaydoItemList.findIndex(function(daydoItem){return daydoItem.id===id;});var updatedAllDaydoItemList=_toConsumableArray(allDaydoItemList);updatedAllDaydoItemList[allDayItemListIndex]=_objectSpread({},selectedItem);setDaydoItemList(updatedDaydoItemList);setAllDaydoItemList(updatedAllDaydoItemList);}function handleFormInputChange(e){setFormInput(e.target.value);}function handleKeyPress(e){if(e.key==='Enter'){handleCreate();}}function handleSlider(e){if(e.target.className==='right'){if(day===7){setDay(1);}else{setDay(day+1);}}else{if(day===1){setDay(7);}else{setDay(day-1);}}}return/*#__PURE__*/_jsxs(\"div\",{className:\"template-wrapper daydo-list-template-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"daydo-title-wrapper\",children:/*#__PURE__*/_jsx(DaydoSlider,{day:day,onSlide:handleSlider})}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"daydo-list-wrapper\",children:/*#__PURE__*/_jsx(DaydoItemList,{day:day,daydoList:daydoItemList,onRemove:handleRemove,onChange:handleDaydoInputChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"daydo-form-wrapper\",children:/*#__PURE__*/_jsx(DaydoForm,{value:formInput,onChange:handleFormInputChange,onCreate:handleCreate,onKeyPress:handleKeyPress})})]});};export default DayDoListTemplate;","map":{"version":3,"sources":["C:/Users/Komputer/Desktop/Komputer/Projects/TASK/client/web/daily_do/src/components/daydo/DaydoListTemplate.js"],"names":["useEffect","useState","DaydoItemList","DaydoForm","DaydoSlider","homepageURL","serverURL","DayDoListTemplate","darkTheme","today","Date","allDaydoItemList","setAllDaydoItemList","daydoItemList","setDaydoItemList","formInput","setFormInput","fetched","setFetched","userIdLocation","document","cookie","split","find","row","startsWith","userId","undefined","window","location","replace","getDay","day","setDay","console","log","inputs","querySelectorAll","forEach","input","classList","add","remove","fetch","method","headers","body","JSON","stringify","then","response","json","items","defaultDaydoItemList","filter","daydoItem","handleCreate","newDaydoItem","content","handleRemove","id","updatedDaydoItemList","updatedAllDaydoItemList","deletedId","handleDaydoInputChange","e","index","findIndex","selectedItem","target","value","updatedId","allDayItemListIndex","handleFormInputChange","handleKeyPress","key","handleSlider","className"],"mappings":"wjBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAO,yBAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OAASC,WAAT,CAAsBC,SAAtB,KAAuC,cAAvC,C,wFAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAAmB,IAAhBC,CAAAA,SAAgB,MAAhBA,SAAgB,CACzC,GAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,IAAJ,EAAd,CAEA,cAAkDT,QAAQ,CAAC,EAAD,CAA1D,wCAAQU,gBAAR,eAA0BC,mBAA1B,eACA,eAA4CX,QAAQ,CAAC,EAAD,CAApD,yCAAQY,aAAR,eAAuBC,gBAAvB,eAEA,eAAoCb,QAAQ,CAAC,EAAD,CAA5C,yCAAQc,SAAR,eAAmBC,YAAnB,eACA,eAAgCf,QAAQ,CAAC,KAAD,CAAxC,yCAAQgB,OAAR,eAAiBC,UAAjB,eAEA,GAAMC,CAAAA,cAAc,CAAGC,QAAQ,CAACC,MAAT,CAAgBC,KAAhB,CAAsB,IAAtB,EAA4BC,IAA5B,CAAiC,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,UAAJ,CAAe,QAAf,CAAJ,EAApC,CAAvB,CACA,GAAMC,CAAAA,MAAM,CAAGP,cAAc,GAAKQ,SAAnB,CAA+BC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwBzB,WAAxB,CAA/B,CAAsEc,cAAc,CAACG,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAArF,CAEA;AACA;AACA,eAAwBrB,QAAQ,CAACQ,KAAK,CAACsB,MAAN,KAAmB,CAAnB,CAAuB,CAAvB,CAA2BtB,KAAK,CAACsB,MAAN,EAA5B,CAAhC,0CAAQC,GAAR,gBAAaC,MAAb,gBAEAjC,SAAS,CAAC,UAAM,CAAE;AACdkC,OAAO,CAACC,GAAR,GACA,GAAMC,CAAAA,MAAM,CAAGhB,QAAQ,CAACiB,gBAAT,CAA0B,OAA1B,CAAf,CAEA,GAAG7B,SAAH,CAAc,CACZ4B,MAAM,CAACE,OAAP,CAAe,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,SAAN,CAAgBC,GAAhB,CAAoB,MAApB,CAAJ,EAApB,EACD,CAFD,IAGK,CACHL,MAAM,CAACE,OAAP,CAAe,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,SAAN,CAAgBE,MAAhB,CAAuB,MAAvB,CAAJ,EAApB,EACD,CACF,CAVM,CAAT,CAYA;AACA1C,SAAS,CAAC,UAAM,CACZ;AACA,GAAG,CAACiB,OAAJ,CAAa,CACT0B,KAAK,WAAIrC,SAAJ,gBAA4B,CAC7BsC,MAAM,CAAG,MADoB,CAE7BC,OAAO,CAAG,CACN,eAAiB,kBADX,CAFmB,CAK7BC,IAAI,CAAGC,IAAI,CAACC,SAAL,CAAetB,MAAf,CALsB,CAA5B,CAAL,CAOCuB,IAPD,CAOM,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAPN,EAQCF,IARD,CAQM,SAACG,KAAD,CAAW,CACblB,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAA2CiB,KAA3C,EACAlC,UAAU,CAAC,IAAD,CAAV,CACAN,mBAAmB,CAACwC,KAAD,CAAnB,CACH,CAZD,EAaH,CAGD;AACA;AACA,GAAMC,CAAAA,oBAAoB,CAAG1C,gBAAgB,CAAC2C,MAAjB,CAAwB,SAAAC,SAAS,QAAIA,CAAAA,SAAS,CAACvB,GAAV,GAAkBA,GAAtB,EAAjC,CAA7B,CAEAlB,gBAAgB,CAACuC,oBAAD,CAAhB,CACH,CAxBQ,CAwBN,CAACpC,OAAD,CAAUN,gBAAV,CAA4BqB,GAA5B,CAxBM,CAAT,CA0BA;AACA,QAASwB,CAAAA,YAAT,EAAwB,CACpB;AACAxC,YAAY,CAAC,EAAD,CAAZ,CAEA;AACA,GAAMyC,CAAAA,YAAY,CAAG,CACjB/B,MAAM,CAAEA,MADS,CAEjBgC,OAAO,CAAE3C,SAFQ,CAGjBiB,GAAG,CAAEA,GAHY,CAArB,CAMA;AACAW,KAAK,WAAIrC,SAAJ,eAA2B,CAC5BsC,MAAM,CAAG,MADmB,CAE5BC,OAAO,CAAE,CACL,eAAiB,kBADZ,CAFmB,CAK5BC,IAAI,CAAGC,IAAI,CAACC,SAAL,CAAeS,YAAf,CALqB,CAA3B,CAMF;AANH,CAOCR,IAPD,CAOM,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAPN,EAQCF,IARD,CAQM,SAACQ,YAAD,CAAkB,CACpBvB,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCsB,YAAhC,EACA3C,gBAAgB,8BAAKD,aAAL,GAAoB4C,YAApB,GAAhB,CAEA;AACAvC,UAAU,CAAC,KAAD,CAAV,CACF,CAdF,EAeH,CAED;AACA,QAASyC,CAAAA,YAAT,CAAsBC,EAAtB,CAA0B,CACtB;AACA,GAAMC,CAAAA,oBAAoB,CAAGhD,aAAa,CAACyC,MAAd,CAAqB,SAAAC,SAAS,QAAIA,CAAAA,SAAS,CAACK,EAAV,GAAiBA,EAArB,EAA9B,CAA7B,CACA,GAAME,CAAAA,uBAAuB,CAAGnD,gBAAgB,CAAC2C,MAAjB,CAAwB,SAAAC,SAAS,QAAIA,CAAAA,SAAS,CAACK,EAAV,GAAiBA,EAArB,EAAjC,CAAhC,CAEA;AACAjB,KAAK,WAAIrC,SAAJ,uBAA2BsD,EAA3B,EAAiC,CAClChB,MAAM,CAAE,QAD0B,CAElCC,OAAO,CAAG,CACN,eAAiB,kBADX,CAFwB,CAAjC,CAAL,CAMCI,IAND,CAMM,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EANN,EAOCF,IAPD,CAOM,SAACc,SAAD,CAAe,CACjB7B,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmB4B,SAAnB,CAA8B,MAA9B,EACH,CATD,EAWA;AACAjD,gBAAgB,CAAC+C,oBAAD,CAAhB,CACAjD,mBAAmB,CAACkD,uBAAD,CAAnB,CACH,CAED;AACA,QAASE,CAAAA,sBAAT,CAAgCC,CAAhC,CAAmCL,EAAnC,CAAuC,CACnC;AACA,GAAMM,CAAAA,KAAK,CAAGrD,aAAa,CAACsD,SAAd,CAAwB,SAAAZ,SAAS,QAAIA,CAAAA,SAAS,CAACK,EAAV,GAAiBA,EAArB,EAAjC,CAAd,CACA,GAAMQ,CAAAA,YAAY,CAAGvD,aAAa,CAACqD,KAAD,CAAlC,CACAE,YAAY,CAACV,OAAb,CAAuBO,CAAC,CAACI,MAAF,CAASC,KAAhC,CAEA;AACA3B,KAAK,WAAIrC,SAAJ,uBAA2BsD,EAA3B,EAAiC,CAClChB,MAAM,CAAG,KADyB,CAElCC,OAAO,CAAG,CACN,eAAiB,kBADX,CAFwB,CAKlCC,IAAI,CAAGC,IAAI,CAACC,SAAL,CAAeoB,YAAf,CAL2B,CAAjC,CAAL,CAOCnB,IAPD,CAOM,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAPN,EAQCF,IARD,CAQM,SAACsB,SAAD,CAAe,CACjBrC,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBoC,SAAnB,CAA8B,QAA9B,EACH,CAVD,EAYA;AACA,GAAMV,CAAAA,oBAAoB,oBAAOhD,aAAP,CAA1B,CACAgD,oBAAoB,CAACK,KAAD,CAApB,kBACOE,YADP,EAIA,GAAMI,CAAAA,mBAAmB,CAAG7D,gBAAgB,CAACwD,SAAjB,CAA2B,SAAAZ,SAAS,QAAIA,CAAAA,SAAS,CAACK,EAAV,GAAiBA,EAArB,EAApC,CAA5B,CACA,GAAME,CAAAA,uBAAuB,oBAAOnD,gBAAP,CAA7B,CACAmD,uBAAuB,CAACU,mBAAD,CAAvB,kBACOJ,YADP,EAIAtD,gBAAgB,CAAC+C,oBAAD,CAAhB,CACAjD,mBAAmB,CAACkD,uBAAD,CAAnB,CACH,CAED,QAASW,CAAAA,qBAAT,CAA+BR,CAA/B,CAAkC,CAC9BjD,YAAY,CAACiD,CAAC,CAACI,MAAF,CAASC,KAAV,CAAZ,CACH,CAED,QAASI,CAAAA,cAAT,CAAwBT,CAAxB,CAA2B,CACvB,GAAGA,CAAC,CAACU,GAAF,GAAU,OAAb,CAAsB,CAClBnB,YAAY,GACf,CACJ,CAED,QAASoB,CAAAA,YAAT,CAAsBX,CAAtB,CAAyB,CACrB,GAAGA,CAAC,CAACI,MAAF,CAASQ,SAAT,GAAuB,OAA1B,CAAmC,CAC/B,GAAG7C,GAAG,GAAK,CAAX,CAAc,CACVC,MAAM,CAAC,CAAD,CAAN,CACH,CAFD,IAGK,CACDA,MAAM,CAACD,GAAG,CAAC,CAAL,CAAN,CACH,CACJ,CAPD,IAQK,CACD,GAAGA,GAAG,GAAK,CAAX,CAAc,CACVC,MAAM,CAAC,CAAD,CAAN,CACH,CAFD,IAGK,CACDA,MAAM,CAACD,GAAG,CAAC,CAAL,CAAN,CACH,CACJ,CACJ,CAGD,mBACI,aAAK,SAAS,CAAC,8CAAf,wBACI,YAAK,SAAS,CAAC,qBAAf,uBACI,KAAC,WAAD,EAAa,GAAG,CAAEA,GAAlB,CAAuB,OAAO,CAAE4C,YAAhC,EADJ,EADJ,cAII,YAJJ,cAKI,YAAK,SAAS,CAAC,oBAAf,uBACI,KAAC,aAAD,EACI,GAAG,CAAE5C,GADT,CAEI,SAAS,CAAEnB,aAFf,CAGI,QAAQ,CAAE8C,YAHd,CAII,QAAQ,CAAEK,sBAJd,EADJ,EALJ,cAaI,YAAK,SAAS,CAAC,oBAAf,uBACI,KAAC,SAAD,EACI,KAAK,CAAEjD,SADX,CAEI,QAAQ,CAAE0D,qBAFd,CAGI,QAAQ,CAAEjB,YAHd,CAII,UAAU,CAAEkB,cAJhB,EADJ,EAbJ,GADJ,CAwBH,CAtMD,CAwMA,cAAenE,CAAAA,iBAAf","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport DaydoItemList from './DaydoItemList'\r\nimport DaydoForm from './DaydoForm'\r\nimport './DaydoListTemplate.css'\r\nimport DaydoSlider from './DaydoSlider'\r\nimport { homepageURL, serverURL } from '../../config'\r\n\r\nconst DayDoListTemplate = ({ darkTheme }) => {\r\n    const today = new Date();\r\n\r\n    const [ allDaydoItemList, setAllDaydoItemList ] = useState([]);\r\n    const [ daydoItemList, setDaydoItemList ] = useState([]);\r\n\r\n    const [ formInput, setFormInput ] = useState('');\r\n    const [ fetched, setFetched ] = useState(false);\r\n    \r\n    const userIdLocation = document.cookie.split('; ').find(row => row.startsWith('userId'));\r\n    const userId = userIdLocation === undefined ? window.location.replace(homepageURL) : userIdLocation.split('=')[1];\r\n    \r\n    // 설정의 요일별 할 일 목록의 세팅되어 있는 요일\r\n    // 기준은 JAVA 요일 시스템을 따름 (그 날의 요일)\r\n    const [ day, setDay ] = useState(today.getDay() === 0 ? 7 : today.getDay()); \r\n\r\n    useEffect(() => { // 다크 모드 \r\n        console.log()\r\n        const inputs = document.querySelectorAll('input');\r\n    \r\n        if(darkTheme) {  \r\n          inputs.forEach(input => input.classList.add('dark'));\r\n        }\r\n        else {\r\n          inputs.forEach(input => input.classList.remove('dark'));\r\n        }\r\n      });\r\n      \r\n    // FETCH - POST\r\n    useEffect(() => {\r\n        // 서버로부터 모든 요일의 Daydo 목록 가져오기\r\n        if(!fetched) {\r\n            fetch(`${serverURL}/api/daydos`, {\r\n                method : 'POST',\r\n                headers : {\r\n                    'content-type' : 'application/json'\r\n                },\r\n                body : JSON.stringify(userId)\r\n            })\r\n            .then((response) => response.json())\r\n            .then((items) => {\r\n                console.log(\"서버로부터 모든 요일별 Daydo 목록 가져옴: \", items);\r\n                setFetched(true);\r\n                setAllDaydoItemList(items);\r\n            });\r\n        }\r\n\r\n                    \r\n        // 초기로 설정되어 있는 요일에 해당하는 요일별 할 일 목록 생성\r\n        // !! Java에서 day = 1 ~ 7 : 월요일 ~ 일요일 | JavaScript에서 day = 0 ~ 6 : 일요일 ~ 토요일\r\n        const defaultDaydoItemList = allDaydoItemList.filter(daydoItem => daydoItem.day === day);\r\n            \r\n        setDaydoItemList(defaultDaydoItemList);\r\n    }, [fetched, allDaydoItemList, day]);\r\n\r\n    // CREATE - POST \r\n    function handleCreate() {\r\n        // Form 안의 내용을 초기화\r\n        setFormInput('');\r\n\r\n        // 서버로 보낼 객체 아이템 생성\r\n        const newDaydoItem = {\r\n            userId: userId,\r\n            content: formInput,\r\n            day: day\r\n        };\r\n        \r\n        // POST 방식으로 서버 전송\r\n        fetch(`${serverURL}/api/daydo`, {\r\n            method : 'POST',\r\n            headers: {\r\n                'content-type' : 'application/json'\r\n            },\r\n            body : JSON.stringify(newDaydoItem)\r\n        }) // 서버에서 받은 응답을 객체화 후, DaydoItemList에 추가 (컴포넌트 re-render됨)\r\n        .then((response) => response.json())\r\n        .then((newDaydoItem) => {\r\n            console.log(\"새 Todo 아이템 생성됨: \", newDaydoItem);\r\n            setDaydoItemList([...daydoItemList, newDaydoItem]);\r\n            \r\n            // 서버에서 다시 목록 가져오기\r\n            setFetched(false);\r\n         })\r\n    }\r\n    \r\n    // REMOVE - DELETE\r\n    function handleRemove(id) {\r\n        // 서버와 클라이언트 따로따로 처리됨\r\n        const updatedDaydoItemList = daydoItemList.filter(daydoItem => daydoItem.id !== id);\r\n        const updatedAllDaydoItemList = allDaydoItemList.filter(daydoItem => daydoItem.id !== id);\r\n\r\n        //서버\r\n        fetch(`${serverURL}/api/daydo/${id}`, {\r\n            method: 'DELETE',\r\n            headers : {\r\n                'content-type' : 'application/json'\r\n            }           \r\n        })\r\n        .then((response) => response.json())\r\n        .then((deletedId) => {\r\n            console.log(\"ID:\", deletedId, \" 삭제됨\");\r\n        });\r\n\r\n        // 클라이언트\r\n        setDaydoItemList(updatedDaydoItemList);\r\n        setAllDaydoItemList(updatedAllDaydoItemList);\r\n    }\r\n  \r\n    // UPDATE (content) - PUT\r\n    function handleDaydoInputChange(e, id) {\r\n        // 서버와 클라이언트 따로따로 처리됨\r\n        const index = daydoItemList.findIndex(daydoItem => daydoItem.id === id);\r\n        const selectedItem = daydoItemList[index];\r\n        selectedItem.content = e.target.value;\r\n\r\n        // 서버\r\n        fetch(`${serverURL}/api/daydo/${id}`, {\r\n            method : 'PUT',\r\n            headers : {\r\n                'content-type' : 'application/json'\r\n            },\r\n            body : JSON.stringify(selectedItem)\r\n        })\r\n        .then((response) => response.json())\r\n        .then((updatedId) => {\r\n            console.log(\"ID:\", updatedId, \" 업데이트됨\");\r\n        });\r\n\r\n        // 클라이언트\r\n        const updatedDaydoItemList = [...daydoItemList];\r\n        updatedDaydoItemList[index] = {\r\n            ...selectedItem,\r\n        };\r\n\r\n        const allDayItemListIndex = allDaydoItemList.findIndex(daydoItem => daydoItem.id === id);\r\n        const updatedAllDaydoItemList = [...allDaydoItemList];\r\n        updatedAllDaydoItemList[allDayItemListIndex] = {\r\n            ...selectedItem,\r\n        };\r\n\r\n        setDaydoItemList(updatedDaydoItemList);\r\n        setAllDaydoItemList(updatedAllDaydoItemList);\r\n    }\r\n\r\n    function handleFormInputChange(e) {\r\n        setFormInput(e.target.value);\r\n    }\r\n\r\n    function handleKeyPress(e) {\r\n        if(e.key === 'Enter') {\r\n            handleCreate();\r\n        }\r\n    }\r\n\r\n    function handleSlider(e) {\r\n        if(e.target.className === 'right') {\r\n            if(day === 7) {\r\n                setDay(1);\r\n            }\r\n            else {\r\n                setDay(day+1);\r\n            }\r\n        }\r\n        else {\r\n            if(day === 1) {\r\n                setDay(7);\r\n            }\r\n            else {\r\n                setDay(day-1);\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className=\"template-wrapper daydo-list-template-wrapper\">\r\n            <div className=\"daydo-title-wrapper\">\r\n                <DaydoSlider day={day} onSlide={handleSlider}></DaydoSlider>\r\n            </div>\r\n            <p></p>\r\n            <div className=\"daydo-list-wrapper\">\r\n                <DaydoItemList\r\n                    day={day}\r\n                    daydoList={daydoItemList}\r\n                    onRemove={handleRemove}\r\n                    onChange={handleDaydoInputChange}\r\n                />\r\n            </div>\r\n            <div className=\"daydo-form-wrapper\">\r\n                <DaydoForm\r\n                    value={formInput}\r\n                    onChange={handleFormInputChange}\r\n                    onCreate={handleCreate}\r\n                    onKeyPress={handleKeyPress}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DayDoListTemplate;"]},"metadata":{},"sourceType":"module"}