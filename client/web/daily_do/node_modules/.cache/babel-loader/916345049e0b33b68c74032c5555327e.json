{"ast":null,"code":"import _slicedToArray from\"C:/Users/Komputer/Desktop/Komputer/Projects/TASK/client/web/daily_do/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import Footer from'./components/fixed/Footer';import Navigation from'./components/fixed/Navigation';import PreferenceWrapper from'./components/PreferenceWrapper';import TodayWrapper from'./components/TodayWrapper';import'./App.css';import{HashRouter,Route,Switch}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var today=new Date();var dayname=['일','월','화','수','목','금','토','일'];var todayDateHTML=/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC624\\uB298\\uC740 \",/*#__PURE__*/_jsx(\"br\",{}),\" \",today.getMonth()+1,\"\\uC6D4 \",today.getDate(),\"\\uC77C \",dayname[today.getDay()],\"\\uC694\\uC77C\"]});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),darkTheme=_useState2[0],setDarkTheme=_useState2[1];// 다크 모드\n//const [ selectedPageNum, setSelectedPageNum ] = useState(0); // 기본값: 오늘 할 일 (0)\nuseEffect(function(){// 랜더링 이후 다크 모드 설정 (추후 리팩토링)\nvar body=document.querySelector('body');var navigation=document.querySelector('.navigation');var footer=document.querySelector('.footer');if(darkTheme){body.classList.add('dark');navigation.classList.add('dark');footer.classList.add('dark');}else{body.classList.remove('dark');navigation.classList.remove('dark');footer.classList.remove('dark');}},[darkTheme]);function handleThemeToggle(){setDarkTheme(!darkTheme);}var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPatched=_useState4[0],setIsPatched=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userInfo=_useState6[0],setUserInfo=_useState6[1];var idTokenLocation=document.cookie.split('; ').find(function(row){return row.startsWith('idToken');});var idToken=idTokenLocation===undefined?window.location.replace('http://komputer-task.ml'):idTokenLocation.split('=')[1];// Read\nuseEffect(function(){if(!isPatched){// GET 방식으로 서버 전송\nfetch('http://ec2-3-36-251-188.ap-northeast-2.compute.amazonaws.com/api/user',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(idToken)}).then(function(response){return response.json();}).then(function(newUserInfo){console.log(\"유저 정보 가져옴: \",{newUserInfo:newUserInfo});setUserInfo(newUserInfo);});setIsPatched(true);}},[isPatched]);// 메인\nreturn/*#__PURE__*/_jsx(HashRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(Navigation,{userInfo:userInfo}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:'/',exact:true,render:function render(){return/*#__PURE__*/_jsx(TodayWrapper,{darkTheme:darkTheme,todayDateHTML:todayDateHTML});}}),/*#__PURE__*/_jsx(Route,{path:'/preference',render:function render(){return/*#__PURE__*/_jsx(PreferenceWrapper,{darkTheme:darkTheme,handleThemeToggle:handleThemeToggle});}})]}),/*#__PURE__*/_jsx(Footer,{})]})});}export default App;","map":{"version":3,"sources":["C:/Users/Komputer/Desktop/Komputer/Projects/TASK/client/web/daily_do/src/App.js"],"names":["useEffect","useState","Footer","Navigation","PreferenceWrapper","TodayWrapper","HashRouter","Route","Switch","App","today","Date","dayname","todayDateHTML","getMonth","getDate","getDay","darkTheme","setDarkTheme","body","document","querySelector","navigation","footer","classList","add","remove","handleThemeToggle","isPatched","setIsPatched","userInfo","setUserInfo","idTokenLocation","cookie","split","find","row","startsWith","idToken","undefined","window","location","replace","fetch","method","headers","JSON","stringify","then","response","json","newUserInfo","console","log"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport Footer from './components/fixed/Footer';\r\nimport Navigation from './components/fixed/Navigation';\r\nimport PreferenceWrapper from './components/PreferenceWrapper';\r\nimport TodayWrapper from './components/TodayWrapper';\r\nimport './App.css';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\n\r\nfunction App() {\r\n  const today = new Date();\r\n  const dayname = ['일','월','화','수','목','금','토','일'];       \r\n  const todayDateHTML = <p>오늘은 <br></br> {today.getMonth()+1}월 {today.getDate()}일 {dayname[today.getDay()]}요일</p>;\r\n\r\n  const [ darkTheme, setDarkTheme ] = useState(false); // 다크 모드\r\n  //const [ selectedPageNum, setSelectedPageNum ] = useState(0); // 기본값: 오늘 할 일 (0)\r\n\r\n  useEffect(() => { // 랜더링 이후 다크 모드 설정 (추후 리팩토링)\r\n    const body = document.querySelector('body');\r\n    const navigation = document.querySelector('.navigation');\r\n    const footer = document.querySelector('.footer');\r\n\r\n    if(darkTheme) {  \r\n      body.classList.add('dark');\r\n      navigation.classList.add('dark');\r\n      footer.classList.add('dark');\r\n    }\r\n    else {\r\n      body.classList.remove('dark');\r\n      navigation.classList.remove('dark');\r\n      footer.classList.remove('dark');\r\n    }\r\n  }, [ darkTheme ]);\r\n\r\n  function handleThemeToggle() {\r\n    setDarkTheme(!darkTheme);\r\n  }\r\n\r\n  const [isPatched, setIsPatched] = useState(false);\r\n  const [userInfo, setUserInfo] = useState(\"\");\r\n\r\n  const idTokenLocation = document.cookie.split('; ').find(row => row.startsWith('idToken'));\r\n  const idToken = idTokenLocation === undefined ? window.location.replace('http://komputer-task.ml') : idTokenLocation.split('=')[1];\r\n  \r\n  // Read\r\n  useEffect(() => {\r\n      if (!isPatched) {\r\n          // GET 방식으로 서버 전송\r\n          fetch('http://ec2-3-36-251-188.ap-northeast-2.compute.amazonaws.com/api/user', {\r\n              method: 'POST',\r\n              headers: {\r\n                  'content-type': 'application/json'\r\n              },\r\n              body: JSON.stringify(idToken)\r\n          })\r\n              .then((response) => response.json())\r\n              .then((newUserInfo) => {\r\n                  console.log(\"유저 정보 가져옴: \", { newUserInfo });\r\n                  setUserInfo(newUserInfo);\r\n              });\r\n\r\n          setIsPatched(true);\r\n      }\r\n  }, [isPatched]);\r\n  \r\n  // 메인\r\n  return (\r\n    <HashRouter>\r\n      <div className=\"main\">\r\n        <Navigation userInfo={userInfo}></Navigation>\r\n        <Switch>\r\n          <Route path={'/'} exact render={() => <TodayWrapper darkTheme={darkTheme} todayDateHTML={todayDateHTML}/>}/>\r\n          <Route path={'/preference'} render={() => <PreferenceWrapper darkTheme={darkTheme} handleThemeToggle={handleThemeToggle}/>}/>\r\n        </Switch>\r\n        <Footer></Footer>\r\n      </div>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}